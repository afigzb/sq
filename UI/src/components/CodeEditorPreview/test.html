<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>EChartFactory2 完整功能演示</title>
    <!-- 这个只是展示页面，想看代码直接看EchartFactory2这一个文件就行 -->
    <!-- 引入CDN库 -->
    <script src="https://cdn.jsdelivr.net/npm/lodash@4.17.21/lodash.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/echarts@5.4.3/dist/echarts.min.js"></script>
    <!-- 引入特殊字体 -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&family=Orbitron:wght@400;700;900&family=Fira+Code:wght@400;500&family=Roboto+Mono:wght@400;500&display=swap" rel="stylesheet">
    <style>
        /* 全局样式重置和基础设置 */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Inter', 'SF Pro Display', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            color: #333;
            line-height: 1.6;
            overflow: hidden; /* 隐藏默认滚动条，使用自定义滑动阻尼 */
        }

        /* 滑动阻尼组件样式 */
        sliding-damping {
            display: block;
            width: 100%;
            height: 100vh;
        }

        /* 容器和布局 */
        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 20px;
            min-height: 100vh; /* 确保内容足够高以触发滚动 */
        }

        /* 统一的卡片样式 */
        .card {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(20px);
            border-radius: 20px;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.2);
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            overflow: hidden;
        }

        .card:hover {
            transform: translateY(-5px);
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.15);
        }

        /* 头部样式 */
        .header {
            text-align: center;
            margin-bottom: 40px;
            padding: 40px 30px;
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(20px);
            border-radius: 25px;
            border: 1px solid rgba(255, 255, 255, 0.2);
        }

        .header h1 {
            font-size: 3.5rem;
            font-weight: 800;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            margin-bottom: 15px;
            letter-spacing: -0.02em;
        }

        .header p {
            font-size: 1.2rem;
            color: rgba(255, 255, 255, 0.9);
            margin-bottom: 20px;
            font-weight: 500;
        }

        .header .subtitle {
            font-size: 1rem;
            color: rgba(255, 255, 255, 0.8);
            background: rgba(255, 255, 255, 0.1);
            padding: 12px 24px;
            border-radius: 50px;
            display: inline-block;
            border: 1px solid rgba(255, 255, 255, 0.2);
        }

        /* 控制面板样式 */
        .controls {
            position: fixed;
            top: 20px;
            right: 20px;
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(20px);
            padding: 15px 20px;
            border-radius: 50px;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.15);
            border: 1px solid rgba(255, 255, 255, 0.3);
            display: flex;
            align-items: center;
            gap: 15px;
            z-index: 10000;
            transition: all 0.3s ease;
        }

        .controls:hover {
            transform: translateY(-2px);
            box-shadow: 0 12px 40px rgba(0, 0, 0, 0.2);
        }

        .controls label {
            font-weight: 600;
            color: #4a5568;
            font-size: 0.9rem;
            white-space: nowrap;
        }

        .controls select, .controls button {
            padding: 8px 16px;
            border: 2px solid #e2e8f0;
            border-radius: 25px;
            font-size: 0.9rem;
            font-weight: 500;
            transition: all 0.3s ease;
            background: white;
        }

        .controls select:focus, .controls button:focus {
            outline: none;
            border-color: #667eea;
            box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);
        }

        .controls button {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            cursor: pointer;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .controls button:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(102, 126, 234, 0.3);
        }

        /* 统一的区域标题样式 */
        .section-title {
            font-size: 2.2rem;
            font-weight: 700;
            margin: 50px 0 30px 0;
            text-align: center;
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(20px);
            padding: 25px 40px;
            border-radius: 20px;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.2);
            position: relative;
            overflow: hidden;
        }

        .section-title::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 4px;
            background: linear-gradient(90deg, #667eea 0%, #764ba2 100%);
        }

        .section-title h2 {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            -webkit-background-clip: text;
            background-clip: text;
            margin: 0;
        }

        /* 说明文字样式 */
        .section-description {
            text-align: center;
            margin-bottom: 30px;
            padding: 20px 30px;
            background: rgba(255, 255, 255, 0.9);
            backdrop-filter: blur(15px);
            border-radius: 15px;
            border: 1px solid rgba(255, 255, 255, 0.3);
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.08);
        }

        .section-description p {
            margin: 8px 0;
            color: #4a5568;
            font-weight: 500;
        }

        .section-description strong {
            color: #2d3748;
            font-weight: 700;
        }

        .section-description code {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 4px 8px;
            border-radius: 6px;
            font-family: 'Fira Code', 'SF Mono', Monaco, 'Cascadia Code', monospace;
            font-size: 0.9em;
            font-weight: 600;
        }

        /* 网格布局 */
        .chart-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(400px, 1fr));
            gap: 25px;
            margin-bottom: 40px;
        }

        /* 图表卡片样式 */
        .chart-card {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(20px);
            border-radius: 20px;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.2);
            overflow: hidden;
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            position: relative;
        }

        .chart-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 3px;
            background: linear-gradient(90deg, #667eea 0%, #764ba2 100%);
            transform: scaleX(0);
            transition: transform 0.3s ease;
        }

        .chart-card:hover::before {
            transform: scaleX(1);
        }

        .chart-card:hover {
            transform: translateY(-8px);
            box-shadow: 0 25px 50px rgba(0, 0, 0, 0.15);
        }

        .chart-header {
            background: linear-gradient(135deg, #f8fafc 0%, #e2e8f0 100%);
            padding: 20px 25px;
            font-weight: 700;
            color: #2d3748;
            font-size: 1.1rem;
            border-bottom: 1px solid rgba(0, 0, 0, 0.05);
            position: relative;
        }

        .chart-container {
            width: 100%;
            height: 380px;
            padding: 10px;
        }

        /* 特殊区域样式 */
        .flow-section {
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(20px);
            border-radius: 25px;
            padding: 40px;
            margin: 40px 0;
            border: 1px solid rgba(255, 255, 255, 0.2);
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
        }

        .flow-section h2 {
            text-align: center;
            margin-bottom: 35px;
            color: white;
            font-size: 2.5rem;
            font-weight: 800;
            text-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
        }

        .flow-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 25px;
        }

        .flow-card {
            background: rgba(255, 255, 255, 0.15);
            backdrop-filter: blur(15px);
            padding: 25px;
            border-radius: 18px;
            border: 1px solid rgba(255, 255, 255, 0.2);
            transition: all 0.3s ease;
        }

        .flow-card:hover {
            background: rgba(255, 255, 255, 0.2);
            transform: translateY(-3px);
        }

        .flow-card h3 {
            color: white;
            margin-bottom: 15px;
            font-size: 1.3rem;
            font-weight: 700;
        }

        .code-block {
            background: rgba(0, 0, 0, 0.4);
            padding: 18px;
            border-radius: 12px;
            font-family: 'Fira Code', 'SF Mono', Monaco, monospace;
            font-size: 13px;
            line-height: 1.6;
            margin: 15px 0;
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        .code-comment { color: #90EE90; }
        .code-keyword { color: #FFD700; }
        .code-string { color: #87CEEB; }

        .flow-card p {
            font-size: 14px;
            color: rgba(255, 255, 255, 0.9);
            margin: 0;
            font-weight: 500;
        }

        /* 数据流向图样式 */
        .data-flow {
            margin-top: 35px;
            text-align: center;
        }

        .data-flow h3 {
            color: white;
            margin-bottom: 20px;
            font-size: 1.5rem;
            font-weight: 700;
        }

        .flow-diagram {
            background: rgba(255, 255, 255, 0.1);
            padding: 25px;
            border-radius: 15px;
            font-family: 'Fira Code', monospace;
            border: 1px solid rgba(255, 255, 255, 0.2);
        }

        .flow-steps {
            font-size: 16px;
            line-height: 2;
            display: flex;
            align-items: center;
            justify-content: center;
            flex-wrap: wrap;
            gap: 15px;
        }

        .flow-step {
            padding: 8px 16px;
            border-radius: 25px;
            font-weight: 600;
            transition: all 0.3s ease;
        }

        .flow-step:hover {
            transform: scale(1.05);
        }

        .flow-arrow {
            color: white;
            font-size: 20px;
            font-weight: bold;
        }

        /* 文件职责网格 */
        .files-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
            gap: 20px;
            margin-top: 30px;
        }

        .file-card {
            background: rgba(255, 255, 255, 0.1);
            padding: 20px;
            border-radius: 15px;
            text-align: center;
            border: 1px solid rgba(255, 255, 255, 0.2);
            transition: all 0.3s ease;
        }

        .file-card:hover {
            background: rgba(255, 255, 255, 0.15);
            transform: translateY(-3px);
        }

        .file-name {
            font-weight: 700;
            margin-bottom: 10px;
            font-size: 1.1rem;
        }

        .file-description {
            font-size: 13px;
            color: rgba(255, 255, 255, 0.9);
            line-height: 1.5;
        }

        /* 独立样式区域 */
        .independent-section {
            background: linear-gradient(135deg, #0f0f23 0%, #1a1a2e 50%, #16213e 100%);
            border-radius: 25px;
            padding: 40px;
            margin: 50px 0;
            box-shadow: 0 20px 60px rgba(0, 210, 255, 0.2);
            border: 2px solid rgba(0, 210, 255, 0.3);
            position: relative;
            overflow: hidden;
        }

        .independent-section::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: radial-gradient(circle at 20% 80%, rgba(0, 210, 255, 0.1) 0%, transparent 50%),
                        radial-gradient(circle at 80% 20%, rgba(0, 245, 255, 0.1) 0%, transparent 50%);
            pointer-events: none;
        }

        .independent-header {
            color: white;
            text-align: center;
            margin-bottom: 30px;
            font-family: 'Orbitron', sans-serif;
            position: relative;
            z-index: 1;
        }

        .independent-header h2 {
            color: #00d2ff;
            font-size: 24px;
            margin-bottom: 10px;
            text-shadow: 0 0 10px rgba(0, 210, 255, 0.8);
        }

        .independent-header p {
            color: #a8a8a8;
            font-size: 14px;
            font-family: 'Roboto Mono', monospace;
        }

        .independent-chart {
            height: 500px;
            background: rgba(255, 255, 255, 0.02);
            border-radius: 15px;
            border: 1px solid rgba(0, 210, 255, 0.3);
            box-shadow: inset 0 0 50px rgba(0, 210, 255, 0.1);
            position: relative;
            z-index: 1;
        }

        .cyber-button {
            background: linear-gradient(45deg, transparent, rgba(0, 210, 255, 0.1), transparent);
            border: 2px solid #00d2ff;
            color: #00d2ff;
            padding: 12px 25px;
            border-radius: 30px;
            cursor: pointer;
            font-family: 'Orbitron', sans-serif;
            font-weight: 700;
            transition: all 0.3s ease;
            text-transform: uppercase;
            letter-spacing: 1px;
            font-size: 0.9rem;
        }

        .cyber-button:hover {
            background: rgba(0, 210, 255, 0.2);
            box-shadow: 0 0 30px rgba(0, 210, 255, 0.8);
            transform: translateY(-2px);
        }

        /* 学习指南样式 */
        .guide-section {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 50px 40px;
            margin: 50px 0;
            border-radius: 25px;
            text-align: center;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.2);
        }

        .guide-section h2 {
            margin-bottom: 30px;
            font-size: 2.5rem;
            font-weight: 800;
        }

        .guide-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(320px, 1fr));
            gap: 25px;
            margin-top: 30px;
        }

        .guide-card {
            background: rgba(255, 255, 255, 0.1);
            padding: 25px;
            border-radius: 18px;
            backdrop-filter: blur(15px);
            border: 1px solid rgba(255, 255, 255, 0.2);
            transition: all 0.3s ease;
        }

        .guide-card:hover {
            background: rgba(255, 255, 255, 0.15);
            transform: translateY(-5px);
        }

        .guide-card h3 {
            margin-bottom: 15px;
            font-size: 1.3rem;
            font-weight: 700;
        }

        .guide-card code {
            background: rgba(0, 0, 0, 0.3);
            padding: 8px 12px;
            border-radius: 8px;
            display: block;
            margin: 15px 0;
            font-family: 'Fira Code', monospace;
            font-size: 0.9rem;
            line-height: 1.4;
        }

        .guide-card p {
            font-size: 14px;
            margin: 0;
            opacity: 0.9;
            font-weight: 500;
        }

        .guide-footer {
            margin-top: 30px;
            font-size: 1.1rem;
            opacity: 0.9;
            font-weight: 500;
        }

        /* 响应式设计 */
        @media (max-width: 768px) {
            .container {
                padding: 15px;
            }
            
            .header h1 {
                font-size: 2.5rem;
            }
            
            .chart-grid {
                grid-template-columns: 1fr;
                gap: 20px;
            }
            
            .flow-grid, .guide-grid {
                grid-template-columns: 1fr;
            }
            
            .controls {
                top: 10px;
                right: 10px;
                left: 10px;
                flex-direction: row;
                justify-content: space-between;
                padding: 12px 16px;
                border-radius: 15px;
            }

            .controls label {
                font-size: 0.8rem;
            }

            .controls select, .controls button {
                padding: 6px 12px;
                font-size: 0.8rem;
            }
        }

        /* 动画效果 */
        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .chart-card {
            animation: fadeInUp 0.6s ease-out;
        }

        .chart-card:nth-child(1) { animation-delay: 0.1s; }
        .chart-card:nth-child(2) { animation-delay: 0.2s; }
        .chart-card:nth-child(3) { animation-delay: 0.3s; }
        .chart-card:nth-child(4) { animation-delay: 0.4s; }
    </style>
</head>
<body>
    <!-- 固定定位的主题切换工具栏 -->
    <div class="controls">
        <label for="themeSelect">切换主题:</label>
        <select id="themeSelect">
            <option value="default">默认主题</option>
            <option value="futuristic">科技风</option>
            <option value="minimal">简约风</option>
            <option value="cleanDark">暗色主题</option>
        </select>
        <button onclick="switchAllThemes()">应用主题</button>
    </div>

    <!-- 使用滑动阻尼组件包装整个页面内容 -->
    <sliding-damping damping="0.05" touch-damping="0.2" limit-speed="80">
        <div class="container">
            <div class="header">
                <h1>EChartFactory2</h1>
                <p>图表工厂 - 简化图表创建流程</p>
                <div class="subtitle">
                    📚 使用步骤：基础用法 → 配置定制 → 高级功能 → 批量操作 → 独立样式
                </div>
            </div>

            <!-- 快速上手教程 -->
            <div class="flow-section">
                <h2>🚀 5分钟快速上手 - 从零开始创建图表</h2>
                
                <div class="flow-grid">
                    <!-- 步骤1：准备工作 -->
                    <div class="flow-card">
                        <h3>📁 步骤1：准备文件</h3>
                        <div class="code-block">
                            <div class="code-comment">// 1. 创建HTML文件</div>
                            <div class="code-keyword">&lt;!DOCTYPE html&gt;</div>
                            <div class="code-keyword">&lt;html&gt;</div>
                            <div class="code-keyword">&lt;head&gt;</div>
                            <div class="code-string">  &lt;script src="echarts.min.js"&gt;&lt;/script&gt;</div>
                            <div class="code-keyword">&lt;/head&gt;</div>
                            <div class="code-keyword">&lt;body&gt;</div>
                            <div class="code-string">  &lt;div id="myChart" style="width:600px;height:400px;"&gt;&lt;/div&gt;</div>
                            <div class="code-keyword">&lt;/body&gt;</div>
                            <div class="code-keyword">&lt;/html&gt;</div>
                        </div>
                        <p>创建一个基本的HTML文件，引入ECharts库</p>
                    </div>

                    <!-- 步骤2：引入工厂 -->
                    <div class="flow-card">
                        <h3>📦 步骤2：引入工厂文件</h3>
                        <div class="code-block">
                            <div class="code-comment">// 2. 引入我们的工厂文件</div>
                            <div class="code-keyword">&lt;script type="module"&gt;</div>
                            <div class="code-string">  import { createChart } from './EchartFactory2.js';</div>
                            <div class="code-string">  import { basicBarChartData } from './data.js';</div>
                            <div class="code-keyword">&lt;/script&gt;</div>
                        </div>
                        <p>引入工厂文件和数据文件，就这么简单</p>
                    </div>

                    <!-- 步骤3：写代码 -->
                    <div class="flow-card">
                        <h3>💻 步骤3：写几行代码</h3>
                        <div class="code-block">
                            <div class="code-comment">// 3. 创建图表（就3行代码）</div>
                            <div class="code-keyword">const container = document.getElementById('myChart');</div>
                            <div class="code-keyword">const chart = createChart(container, 'bar', 'default');</div>
                            <div class="code-keyword">chart.update(basicBarChartData);</div>
                            <br/>
                            <div class="code-comment">// 完成！图表就出来了</div>
                        </div>
                        <p>就这3行代码，一个图表就搞定了</p>
                    </div>

                    <!-- 步骤4：自定义 -->
                    <div class="flow-card">
                        <h3>🎨 步骤4：想要自定义？</h3>
                        <div class="code-block">
                            <div class="code-comment">// 4. 如果想要自定义样式</div>
                            <div class="code-keyword">chart.update(data, {</div>
                            <div class="code-string">  stack: 'total',        // 堆叠效果</div>
                            <div class="code-string">  inverse: true,         // 横向显示</div>
                            <div class="code-string">  areaStyle: true        // 面积填充</div>
                            <div class="code-keyword">});</div>
                            <br/>
                            <div class="code-comment">// 或者换个主题</div>
                            <div class="code-keyword">chart.switchTheme('futuristic');</div>
                        </div>
                        <p>想要什么效果，加个配置就行</p>
                    </div>
                </div>

                <!-- 完整示例 -->
                <div style="margin-top: 35px;">
                    <h3 style="color: white; margin-bottom: 20px; text-align: center; font-size: 1.5rem;">📋 完整代码示例（复制粘贴就能用）</h3>
                    <div class="flow-diagram">
                        <div style="background: rgba(0,0,0,0.4); padding: 25px; border-radius: 15px; font-family: 'Fira Code', monospace; font-size: 14px; line-height: 1.6;">
                            <div class="code-comment">&lt;!-- 完整的HTML文件 --&gt;</div>
                            <div class="code-keyword">&lt;!DOCTYPE html&gt;</div>
                            <div class="code-keyword">&lt;html lang="zh-CN"&gt;</div>
                            <div class="code-keyword">&lt;head&gt;</div>
                            <div class="code-string">    &lt;meta charset="UTF-8"&gt;</div>
                            <div class="code-string">    &lt;title&gt;我的第一个图表&lt;/title&gt;</div>
                            <div class="code-string">    &lt;script src="https://cdn.jsdelivr.net/npm/echarts@5.4.3/dist/echarts.min.js"&gt;&lt;/script&gt;</div>
                            <div class="code-keyword">&lt;/head&gt;</div>
                            <div class="code-keyword">&lt;body&gt;</div>
                            <div class="code-string">    &lt;div id="myChart" style="width: 800px; height: 400px;"&gt;&lt;/div&gt;</div>
                            <br/>
                            <div class="code-string">    &lt;script type="module"&gt;</div>
                            <div class="code-string">        import { createChart } from './EchartFactory/EchartFactory2.js';</div>
                            <div class="code-string">        import { basicBarChartData } from './data.js';</div>
                            <br/>
                            <div class="code-comment">        // 就这3行，搞定！</div>
                            <div class="code-string">        const container = document.getElementById('myChart');</div>
                            <div class="code-string">        const chart = createChart(container, 'bar', 'default');</div>
                            <div class="code-string">        chart.update(basicBarChartData);</div>
                            <div class="code-string">    &lt;/script&gt;</div>
                            <div class="code-keyword">&lt;/body&gt;</div>
                            <div class="code-keyword">&lt;/html&gt;</div>
                        </div>
                    </div>
                </div>

                <!-- 常见问题 -->
                <div style="margin-top: 35px;">
                    <h3 style="color: white; margin-bottom: 20px; text-align: center; font-size: 1.5rem;">❓ 常见问题</h3>
                    <div class="files-grid">
                        <div class="file-card">
                            <div class="file-name" style="color: #FFD700;">图表不显示？</div>
                            <div class="file-description">检查容器有没有设置宽高<br/>确认文件路径是否正确</div>
                        </div>
                        <div class="file-card">
                            <div class="file-name" style="color: #87CEEB;">数据格式错误？</div>
                            <div class="file-description">参考data.js里的格式<br/>或者用数据转换工具</div>
                        </div>
                        <div class="file-card">
                            <div class="file-name" style="color: #90EE90;">想要其他图表？</div>
                            <div class="file-description">把'bar'改成'line'、'pie'<br/>支持十几种图表类型</div>
                        </div>
                        <div class="file-card">
                            <div class="file-name" style="color: #FF69B4;">主题不好看？</div>
                            <div class="file-description">试试'futuristic'、'minimal'<br/>或者自己定义主题</div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- 使用逻辑流程展示 -->
            <div class="flow-section">
                <h2>🔄 工厂内部工作流程（了解一下就行）</h2>
                
                <div class="flow-grid">
                    <!-- 步骤1：原始数据 -->
                    <div class="flow-card">
                        <h3>📊 步骤1：原始数据</h3>
                        <div class="code-block">
                            <div class="code-comment">// data.js - 模拟数据库数据</div>
                            <div class="code-keyword">const salesData = [</div>
                            <div class="code-string">  { product: '产品A', sales_amount: 120 },</div>
                            <div class="code-string">  { product: '产品B', sales_amount: 200 },</div>
                            <div class="code-string">  { product: '产品C', sales_amount: 150 }</div>
                            <div class="code-keyword">];</div>
                        </div>
                        <p>模拟从后端API或数据库获取的原始数据格式</p>
                    </div>

                    <!-- 步骤2：数据转换 -->
                    <div class="flow-card">
                        <h3>🔄 步骤2：数据转换</h3>
                        <div class="code-block">
                            <div class="code-comment">// DataConversionFunction.js</div>
                            <div class="code-keyword">EChartsDataConverter.convertToEChartsData(</div>
                            <div class="code-string">  salesData,</div>
                            <div class="code-string">  { categoryField: 'product', valueField: 'sales_amount' },</div>
                            <div class="code-string">  'bar'</div>
                            <div class="code-keyword">);</div>
                        </div>
                        <p>把后端数据转换成ECharts能用的格式</p>
                    </div>

                    <!-- 步骤3：转换结果 -->
                    <div class="flow-card">
                        <h3>📋 步骤3：转换结果</h3>
                        <div class="code-block">
                            <div class="code-comment">// 转换后的数据格式</div>
                            <div class="code-keyword">{</div>
                            <div class="code-string">  xAxis: ['产品A', '产品B', '产品C'],</div>
                            <div class="code-string">  series: [{ data: [120, 200, 150] }]</div>
                            <div class="code-keyword">}</div>
                        </div>
                        <p>转换后就是这样的格式，可以直接用了</p>
                    </div>

                    <!-- 步骤4：图表创建 -->
                    <div class="flow-card">
                        <h3>🎨 步骤4：图表创建</h3>
                        <div class="code-block">
                            <div class="code-comment">// EchartFactory2.js - 工厂函数</div>
                            <div class="code-keyword">const chart = createChart(</div>
                            <div class="code-string">  container,     // DOM容器</div>
                            <div class="code-string">  'bar',         // 图表类型</div>
                            <div class="code-string">  'default'      // 主题名称</div>
                            <div class="code-keyword">);</div>
                            <div class="code-keyword">chart.update(basicBarChartData);</div>
                        </div>
                        <p>用工厂函数创建图表实例，然后更新数据</p>
                    </div>

                    <!-- 步骤5：主题应用 -->
                    <div class="flow-card">
                        <h3>🎭 步骤5：主题应用</h3>
                        <div class="code-block">
                            <div class="code-comment">// themes.js - 主题配置</div>
                            <div class="code-keyword">const theme = themes['default'];</div>
                            <div class="code-string">// 应用颜色、样式、动画等</div>
                            <div class="code-string">colors: ['#5470c6', '#91cc75', ...]</div>
                        </div>
                        <p>根据主题配置应用对应的颜色和样式</p>
                    </div>

                    <!-- 步骤6：最终渲染 -->
                    <div class="flow-card">
                        <h3>🖼️ 步骤6：最终渲染</h3>
                        <div class="code-block">
                            <div class="code-comment">// 最终ECharts配置</div>
                            <div class="code-keyword">chartInstance.setOption({</div>
                            <div class="code-string">  xAxis: { data: [...] },</div>
                            <div class="code-string">  series: [{ type: 'bar', data: [...] }],</div>
                            <div class="code-string">  color: ['#5470c6'], ...</div>
                            <div class="code-keyword">});</div>
                        </div>
                        <p>生成完整配置并渲染到页面上</p>
                    </div>
                </div>

                <!-- 数据流向图 -->
                <div class="data-flow">
                    <h3>📈 数据流向图</h3>
                    <div class="flow-diagram">
                        <div class="flow-steps">
                            <span class="flow-step" style="background: #FFD700; color: #333;">后端数据</span> 
                            <span class="flow-arrow">→</span> 
                            <span class="flow-step" style="background: #87CEEB; color: #333;">数据转换</span> 
                            <span class="flow-arrow">→</span> 
                            <span class="flow-step" style="background: #90EE90; color: #333;">标准格式</span> 
                            <span class="flow-arrow">→</span> 
                            <span class="flow-step" style="background: #FF69B4; color: #333;">图表工厂</span> 
                            <span class="flow-arrow">→</span> 
                            <span class="flow-step" style="background: #FFA500; color: #333;">主题样式</span> 
                            <span class="flow-arrow">→</span> 
                            <span class="flow-step" style="background: #00CED1; color: #333;">最终图表</span>
                        </div>
                    </div>
                </div>

                <!-- 核心文件说明 -->
                <div style="margin-top: 35px;">
                    <h3 style="color: white; margin-bottom: 20px; text-align: center; font-size: 1.5rem;">📁 文件说明</h3>
                    <div class="files-grid">
                        <div class="file-card">
                            <div class="file-name" style="color: #FFD700;">data.js</div>
                            <div class="file-description">模拟数据<br/>各种示例数据</div>
                        </div>
                        <div class="file-card">
                            <div class="file-name" style="color: #87CEEB;">DataConversionFunction.js</div>
                            <div class="file-description">数据转换工具<br/>格式转换</div>
                        </div>
                        <div class="file-card">
                            <div class="file-name" style="color: #90EE90;">EchartFactory2.js</div>
                            <div class="file-description">图表工厂<br/>核心逻辑</div>
                        </div>
                        <div class="file-card">
                            <div class="file-name" style="color: #FF69B4;">themes.js</div>
                            <div class="file-description">主题配置<br/>样式定义</div>
                        </div>
                        <div class="file-card">
                            <div class="file-name" style="color: #FFA500;">usage-example.js</div>
                            <div class="file-description">使用示例<br/>参考代码</div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- 第一层：基础用法 - 最简单的使用方式 -->
            <div class="section-title">
                <h2>📖 第一步：基础用法 - 最简单的方式</h2>
            </div>
            <div class="section-description">
                <p><strong>使用方法：</strong><code>createChart(容器, 图表类型, 主题)</code></p>
                <p>三个参数搞定，适合快速出图</p>
            </div>
            <div class="chart-grid">
                <div class="chart-card">
                    <div class="chart-header">基础柱状图 - createChart(container, 'bar', 'default')</div>
                    <div id="barChart" class="chart-container"></div>
                </div>

                <div class="chart-card">
                    <div class="chart-header">基础折线图 - createChart(container, 'line', 'default')</div>
                    <div id="lineChart" class="chart-container"></div>
                </div>

                <div class="chart-card">
                    <div class="chart-header">基础饼图 - createChart(container, 'pie', 'minimal')</div>
                    <div id="pieChart" class="chart-container"></div>
                </div>

                <div class="chart-card">
                    <div class="chart-header">基础雷达图 - createChart(container, 'radar', 'default')</div>
                    <div id="radarChart" class="chart-container"></div>
                </div>
            </div>

            <!-- 第二层：配置定制 - 添加自定义配置 -->
            <div class="section-title">
                <h2>⚙️ 第二步：配置定制 - 加点自定义</h2>
            </div>
            <div class="section-description">
                <p><strong>使用方法：</strong><code>chart.update(data, 自定义配置)</code></p>
                <p>在基础用法上加点配置，实现堆叠、翻转、填充等效果</p>
            </div>
            <div class="chart-grid">
                <div class="chart-card">
                    <div class="chart-header">堆叠柱状图 - { stack: 'total' }</div>
                    <div id="stackedBarChart" class="chart-container"></div>
                </div>

                <div class="chart-card">
                    <div class="chart-header">水平柱状图 - { inverse: true }</div>
                    <div id="inverseBarChart" class="chart-container"></div>
                </div>

                <div class="chart-card">
                    <div class="chart-header">面积折线图 - { areaStyle: true }</div>
                    <div id="areaChart" class="chart-container"></div>
                </div>

                <div class="chart-card">
                    <div class="chart-header">玫瑰图 - { roseType: 'area' }</div>
                    <div id="roseChart" class="chart-container"></div>
                </div>
            </div>

            <!-- 第三层：高级功能 - 复杂图表类型和特殊功能 -->
            <div class="section-title">
                <h2>🚀 第三步：高级功能 - 复杂图表</h2>
            </div>
            <div class="section-description">
                <p><strong>功能特点：</strong>极坐标、散点图、多系列、动态更新、混合图表</p>
                <p>适合复杂的数据展示需求</p>
            </div>
            <div class="chart-grid">
                <div class="chart-card">
                    <div class="chart-header">散点图 - 身高体重分布</div>
                    <div id="scatterChart" class="chart-container"></div>
                </div>

                <div class="chart-card">
                    <div class="chart-header">多系列雷达图 - 部门对比</div>
                    <div id="multiRadarChart" class="chart-container"></div>
                </div>

                <div class="chart-card">
                    <div class="chart-header">极坐标柱状图 - 特殊坐标系</div>
                    <div id="polarBarChart" class="chart-container"></div>
                </div>

                <div class="chart-card">
                    <div class="chart-header">极坐标折线图 - 周期性数据</div>
                    <div id="polarLineChart" class="chart-container"></div>
                </div>

                <div class="chart-card">
                    <div class="chart-header">混合图表 - 双Y轴</div>
                    <div id="mixedChart" class="chart-container"></div>
                </div>

                <div class="chart-card">
                    <div class="chart-header">动态数据更新 - 实时刷新</div>
                    <div id="dynamicDataChart" class="chart-container"></div>
                </div>
            </div>

            <!-- 第四层：深度定制 - 自定义样式、主题、预设 -->
            <div class="section-title">
                <h2>🎨 第四步：深度定制 - 自定义样式</h2>
            </div>
            <div class="section-description">
                <p><strong>定制方法：</strong>自定义配置、预设模式、自定义主题</p>
                <p>满足特殊的设计需求</p>
            </div>
            <div class="chart-grid">
                <div class="chart-card">
                    <div class="chart-header">自定义样式 - 边框、阴影、动画</div>
                    <div id="chart5" class="chart-container"></div>
                </div>

                <div class="chart-card">
                    <div class="chart-header">预设配置 - 仪表盘/分析模式</div>
                    <div id="chart6" class="chart-container"></div>
                </div>

                <div class="chart-card">
                    <div class="chart-header">动态类型切换 - bar/line/scatter</div>
                    <div id="chart8" class="chart-container"></div>
                </div>

                <div class="chart-card">
                    <div class="chart-header">自定义主题 - 完全自定义</div>
                    <div id="chart9" class="chart-container"></div>
                </div>
            </div>

            <!-- 第五层：批量操作 - 企业级应用 -->
            <div class="section-title">
                <h2>📊 第五步：批量操作 - 一次创建多个</h2>
            </div>
            <div class="section-description">
                <p><strong>使用场景：</strong>仪表盘、报表系统、主题预览</p>
                <p><strong>API：</strong><code>createCharts(配置数组)</code> - 批量创建</p>
            </div>
            <div class="chart-grid">
                <div class="chart-card">
                    <div class="chart-header">批量柱状图 - 默认主题</div>
                    <div id="chart7-1" class="chart-container"></div>
                </div>

                <div class="chart-card">
                    <div class="chart-header">批量折线图 - 简约风</div>
                    <div id="chart7-2" class="chart-container"></div>
                </div>

                <div class="chart-card">
                    <div class="chart-header">批量饼图 - 暗色主题</div>
                    <div id="chart7-3" class="chart-container"></div>
                </div>
            </div>

            <!-- 第六层：独立样式 - 完全自定义的终极方案 -->
            <div class="independent-section">
                <div class="section-title" style="background: linear-gradient(45deg, #0f0f23, #1a1a2e); color: #00d2ff; margin-bottom: 0;">
                    <h2>🌟 第六步：独立样式 - 完全脱离主题</h2>
                </div>
                <div class="independent-header">
                    <p style="color: #a8a8a8; text-align: center; margin-bottom: 20px; font-family: 'Roboto Mono', monospace;">
                        <strong>终极定制：</strong>不受全局主题影响，实现品牌级定制 | 科技风演示
                    </p>
                </div>
                
                <div id="independentChart" class="independent-chart"></div>
                
                <div style="display: flex; justify-content: center; gap: 15px; margin-top: 20px; flex-wrap: wrap;">
                    <button class="cyber-button" onclick="toggleIndependentTheme()">切换颜色</button>
                </div>
                
                <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 15px; margin-top: 20px;">
                    <div style="background: rgba(255, 255, 255, 0.05); border: 1px solid rgba(0, 210, 255, 0.3); border-radius: 8px; padding: 15px; color: #ffffff; font-family: 'Roboto Mono', monospace; font-size: 12px;">
                        <h4 style="color: #00d2ff; margin-bottom: 8px; font-family: 'Orbitron', sans-serif;">渐变背景</h4>
                        <p>深色渐变背景营造科技感</p>
                    </div>
                    <div style="background: rgba(255, 255, 255, 0.05); border: 1px solid rgba(0, 210, 255, 0.3); border-radius: 8px; padding: 15px; color: #ffffff; font-family: 'Roboto Mono', monospace; font-size: 12px;">
                        <h4 style="color: #00d2ff; margin-bottom: 8px; font-family: 'Orbitron', sans-serif;">发光效果</h4>
                        <p>文字和元素有发光效果</p>
                    </div>
                    <div style="background: rgba(255, 255, 255, 0.05); border: 1px solid rgba(0, 210, 255, 0.3); border-radius: 8px; padding: 15px; color: #ffffff; font-family: 'Roboto Mono', monospace; font-size: 12px;">
                        <h4 style="color: #00d2ff; margin-bottom: 8px; font-family: 'Orbitron', sans-serif;">自定义字体</h4>
                        <p>使用特殊字体</p>
                    </div>
                    <div style="background: rgba(255, 255, 255, 0.05); border: 1px solid rgba(0, 210, 255, 0.3); border-radius: 8px; padding: 15px; color: #ffffff; font-family: 'Roboto Mono', monospace; font-size: 12px;">
                        <h4 style="color: #00d2ff; margin-bottom: 8px; font-family: 'Orbitron', sans-serif;">复杂动画</h4>
                        <p>各种动画效果</p>
                    </div>
                    <div style="background: rgba(255, 255, 255, 0.05); border: 1px solid rgba(0, 210, 255, 0.3); border-radius: 8px; padding: 15px; color: #ffffff; font-family: 'Roboto Mono', monospace; font-size: 12px;">
                        <h4 style="color: #00d2ff; margin-bottom: 8px; font-family: 'Orbitron', sans-serif;">完全独立</h4>
                        <p>不受全局主题影响</p>
                    </div>
                    <div style="background: rgba(255, 255, 255, 0.05); border: 1px solid rgba(0, 210, 255, 0.3); border-radius: 8px; padding: 15px; color: #ffffff; font-family: 'Roboto Mono', monospace; font-size: 12px;">
                        <h4 style="color: #00d2ff; margin-bottom: 8px; font-family: 'Orbitron', sans-serif;">品牌定制</h4>
                        <p>满足企业定制需求</p>
                    </div>
                </div>
            </div>
        </div>

        <!-- 学习指南总结 -->
        <div class="guide-section">
            <h2>📚 使用指南总结</h2>
            <div class="guide-grid">
                <div class="guide-card">
                    <h3 style="color: #87ceeb;">📖 第一步：基础用法</h3>
                    <code>createChart(container, 'bar', 'default')</code>
                    <p>最简单的三参数调用</p>
                </div>
                <div class="guide-card">
                    <h3 style="color: #ffd700;">⚙️ 第二步：配置定制</h3>
                    <code>chart.update(data, { stack: 'total' })</code>
                    <p>加点自定义配置</p>
                </div>
                <div class="guide-card">
                    <h3 style="color: #dda0dd;">🚀 第三步：高级功能</h3>
                    <code>createChart(container, 'polarBar', theme)</code>
                    <p>特殊图表类型</p>
                </div>
                <div class="guide-card">
                    <h3 style="color: #98fb98;">🎨 第四步：深度定制</h3>
                    <code>new EChartFactory2(container, type, customTheme)</code>
                    <p>自定义主题和配置</p>
                </div>
                <div class="guide-card">
                    <h3 style="color: #ffa07a;">📊 第五步：批量操作</h3>
                    <code>createCharts(configs)</code>
                    <p>批量创建和管理</p>
                </div>
                <div class="guide-card">
                    <h3 style="color: #00d2ff;">🌟 第六步：独立样式</h3>
                    <code>chart.generateIndependentOptions(data, style)</code>
                    <p>完全脱离主题的定制</p>
                </div>
            </div>
            <div class="guide-footer">
                💡 看不懂的话直接问同事或者问AI。
            </div>
        </div>
        </div>
    </sliding-damping>

    <script type="module">
        import Echarts from '../Echarts/index.js';

        // 全局变量
        window.charts = {};
        window.independentChart = null;

        // 第一层：基础用法初始化
        function initBasicUsage() {
            console.log('🔵 第一层：初始化基础用法图表...');
            window.charts.bar = Echarts.createBasicBarChart(document.getElementById('barChart'));
            window.charts.line = Echarts.createMultiLineChart(document.getElementById('lineChart'));
            window.charts.pie = Echarts.createPieChart(document.getElementById('pieChart'));
            window.charts.radar = Echarts.createRadarChart(document.getElementById('radarChart'));
        }

        // 第二层：配置定制初始化
        function initConfigCustomization() {
            console.log('🟡 第二层：初始化配置定制图表...');
            window.charts.stacked = Echarts.createStackedBarChart();
            window.charts.inverse = Echarts.createInverseBarChart();
            window.charts.area = Echarts.createAreaChart();
            window.charts.rose = Echarts.createRoseChart();
        }

        // 第三层：高级功能初始化
        function initAdvancedFeatures() {
            console.log('🟣 第三层：初始化高级功能图表...');
            window.charts.scatter = Echarts.createScatterChart();
            window.charts.multiRadar = Echarts.createMultiRadarChart();
            window.charts.polarBar = Echarts.createPolarBarChart();
            window.charts.polarLine = Echarts.createPolarLineChart();
            window.charts.mixed = Echarts.createMixedChart();
            window.charts.dynamic = Echarts.createDynamicDataChart();
        }

        // 第四层：深度定制初始化
        function initDeepCustomization() {
            console.log('🟢 第四层：初始化深度定制图表...');
            window.charts.custom = Echarts.createCustomChart();
            window.charts.preset = Echarts.createPresetChart();
            window.charts.dynamicType = Echarts.createDynamicChart();
            window.charts.customTheme = Echarts.createCustomThemeChart();
        }

        // 第五层：批量操作初始化
        function initBatchOperations() {
            console.log('🟠 第五层：初始化批量操作图表...');
            window.charts.batch = Echarts.createBatchCharts();
        }

        // 第六层：独立样式初始化
        function initIndependentStyle() {
            console.log('⭐ 第六层：初始化独立样式图表...');
            window.independentChart = Echarts.createIndependentStyleChart();
        }

        // 按层级顺序初始化所有图表
        function initAllCharts() {
            console.log('🚀 开始按层级初始化所有图表...');
            initBasicUsage();
            initConfigCustomization();
            initAdvancedFeatures();
            initDeepCustomization();
            initBatchOperations();
            initIndependentStyle();
            console.log('✅ 所有图表初始化完成！');
        }

        // 页面加载完成后初始化
        document.addEventListener('DOMContentLoaded', () => {
            // 获取滑动阻尼组件
            const slidingDamping = document.querySelector('sliding-damping');
            
            // 根据设备类型调整阻尼参数
            const isMobile = 'ontouchstart' in window;
            if (isMobile) {
                // 移动设备使用更快的响应
                slidingDamping.setAttribute('damping', '0.08');
                slidingDamping.setAttribute('touch-damping', '0.25');
                slidingDamping.setAttribute('limit-speed', '60');
            } else {
                // 桌面设备使用更平滑的效果
                slidingDamping.setAttribute('damping', '0.05');
                slidingDamping.setAttribute('touch-damping', '0.2');
                slidingDamping.setAttribute('limit-speed', '80');
            }
            
            // 自动初始化所有图表
            initAllCharts();
        });
        // 主题切换
        window.switchAllThemes = function() {
            const theme = document.getElementById('themeSelect').value;
            
            Object.values(window.charts).forEach(chart => {
                if (chart && chart.switchTheme) {
                    chart.switchTheme(theme);
                }
            });
        };

        // 独立样式图表颜色切换
        window.toggleIndependentTheme = function() {
            if (window.independentChart) {
                const instance = window.independentChart.getInstance();
                const currentOption = instance.getOption();
                
                // 切换颜色主题
                const colorThemes = [
                    {
                        primary: '#00d2ff',
                        secondary: '#3a7bd5',
                        accent: '#00f5ff'
                    },
                    {
                        primary: '#ff6b6b',
                        secondary: '#ee5a52',
                        accent: '#ff8a80'
                    },
                    {
                        primary: '#4ecdc4',
                        secondary: '#44a08d',
                        accent: '#26d0ce'
                    },
                    {
                        primary: '#a8e6cf',
                        secondary: '#7fcdcd',
                        accent: '#c7ceea'
                    }
                ];
                
                const randomTheme = colorThemes[Math.floor(Math.random() * colorThemes.length)];
                
                // 更新颜色
                currentOption.series[0].itemStyle.color.colorStops = [
                    { offset: 0, color: randomTheme.accent },
                    { offset: 0.5, color: randomTheme.primary },
                    { offset: 1, color: randomTheme.secondary }
                ];
                
                instance.setOption(currentOption);
            }
        };
    </script>
</body>
</html>

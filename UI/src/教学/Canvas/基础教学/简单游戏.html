<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ç®€å•æ¸¸æˆ - è´ªåƒè›‡</title>
</head>
<body>
    <div class="container">
        <h1>ğŸ® ç®€å•æ¸¸æˆ - è´ªåƒè›‡</h1>
        <p>ç»å…¸çš„è´ªåƒè›‡å°æ¸¸æˆï¼Œä½¿ç”¨æ–¹å‘é”®æ§åˆ¶ç§»åŠ¨</p>
        
        <div class="score" id="scoreDisplay">åˆ†æ•°: 0</div>
        
        <canvas id="gameCanvas" width="600" height="400"></canvas>
        
        <div class="controls">
            <button onclick="resetGame()">é‡æ–°å¼€å§‹</button>
            <button onclick="pauseGame()">æš‚åœ/ç»§ç»­</button>
        </div>
        
        <div class="instructions">
            <h3>ğŸ¯ æ¸¸æˆè¯´æ˜</h3>
            <p>â€¢ ä½¿ç”¨æ–¹å‘é”® â†‘â†“â†â†’ æ§åˆ¶è›‡çš„ç§»åŠ¨æ–¹å‘</p>
            <p>â€¢ åƒåˆ°çº¢è‰²é£Ÿç‰©å¯ä»¥å¢é•¿èº«ä½“å¹¶è·å¾—åˆ†æ•°</p>
            <p>â€¢ æ’åˆ°å¢™å£æˆ–è‡ªå·±çš„èº«ä½“æ¸¸æˆç»“æŸ</p>
            <p>â€¢ ç›®æ ‡ï¼šè·å¾—å°½å¯èƒ½é«˜çš„åˆ†æ•°ï¼</p>
        </div>
    </div>

    <script>
        // æ¸¸æˆçŠ¶æ€
        let game = {
            snake: [{x: 10, y: 10}],
            food: {x: 15, y: 15},
            direction: {x: 1, y: 0},
            score: 0,
            running: true,
            paused: false
        };
        
        let gameLoop;
        
        function initGame() {
            const canvas = document.getElementById('gameCanvas');
            const ctx = canvas.getContext('2d');
            const gridSize = 20;
            
            function drawGame() {
                if (!game.running || game.paused) return;
                
                // èƒŒæ™¯
                ctx.fillStyle = '#065f46';
                ctx.fillRect(0, 0, canvas.width, canvas.height);
                
                // ç½‘æ ¼çº¿
                ctx.strokeStyle = 'rgba(255, 255, 255, 0.1)';
                ctx.lineWidth = 1;
                for (let x = 0; x < canvas.width; x += gridSize) {
                    ctx.beginPath();
                    ctx.moveTo(x, 0);
                    ctx.lineTo(x, canvas.height);
                    ctx.stroke();
                }
                for (let y = 0; y < canvas.height; y += gridSize) {
                    ctx.beginPath();
                    ctx.moveTo(0, y);
                    ctx.lineTo(canvas.width, y);
                    ctx.stroke();
                }
                
                // ç§»åŠ¨è›‡
                const head = {
                    x: game.snake[0].x + game.direction.x,
                    y: game.snake[0].y + game.direction.y
                };
                
                // è¾¹ç•Œæ£€æµ‹
                if (head.x < 0 || head.x >= Math.floor(canvas.width / gridSize) ||
                    head.y < 0 || head.y >= Math.floor(canvas.height / gridSize)) {
                    gameOver();
                    return;
                }
                
                // è‡ªæ’æ£€æµ‹
                for (let segment of game.snake) {
                    if (head.x === segment.x && head.y === segment.y) {
                        gameOver();
                        return;
                    }
                }
                
                game.snake.unshift(head);
                
                // æ£€æŸ¥é£Ÿç‰©
                if (head.x === game.food.x && head.y === game.food.y) {
                    game.score += 10;
                    updateScore();
                    generateFood();
                } else {
                    game.snake.pop();
                }
                
                // ç»˜åˆ¶è›‡
                game.snake.forEach((segment, index) => {
                    if (index === 0) {
                        // è›‡å¤´
                        ctx.fillStyle = '#22c55e';
                        ctx.fillRect(segment.x * gridSize + 2, segment.y * gridSize + 2, gridSize - 4, gridSize - 4);
                        // çœ¼ç›
                        ctx.fillStyle = '#fff';
                        ctx.fillRect(segment.x * gridSize + 6, segment.y * gridSize + 6, 3, 3);
                        ctx.fillRect(segment.x * gridSize + 11, segment.y * gridSize + 6, 3, 3);
                    } else {
                        // è›‡èº«
                        ctx.fillStyle = '#16a34a';
                        ctx.fillRect(segment.x * gridSize + 3, segment.y * gridSize + 3, gridSize - 6, gridSize - 6);
                    }
                });
                
                // ç»˜åˆ¶é£Ÿç‰©
                ctx.fillStyle = '#ef4444';
                ctx.beginPath();
                ctx.arc(
                    game.food.x * gridSize + gridSize/2, 
                    game.food.y * gridSize + gridSize/2, 
                    gridSize/2 - 2, 
                    0, 
                    Math.PI * 2
                );
                ctx.fill();
                
                // é£Ÿç‰©é—ªçƒæ•ˆæœ
                const time = Date.now();
                if (Math.sin(time * 0.01) > 0) {
                    ctx.fillStyle = '#fca5a5';
                    ctx.beginPath();
                    ctx.arc(
                        game.food.x * gridSize + gridSize/2, 
                        game.food.y * gridSize + gridSize/2, 
                        gridSize/3, 
                        0, 
                        Math.PI * 2
                    );
                    ctx.fill();
                }
                
                setTimeout(() => {
                    if (game.running && !game.paused) {
                        requestAnimationFrame(drawGame);
                    }
                }, 150);
            }
            
            function generateFood() {
                do {
                    game.food = {
                        x: Math.floor(Math.random() * Math.floor(canvas.width / gridSize)),
                        y: Math.floor(Math.random() * Math.floor(canvas.height / gridSize))
                    };
                } while (game.snake.some(segment => 
                    segment.x === game.food.x && segment.y === game.food.y
                ));
            }
            
            // é”®ç›˜æ§åˆ¶
            document.addEventListener('keydown', (e) => {
                if (!game.running || game.paused) return;
                
                switch(e.key) {
                    case 'ArrowUp': 
                        if (game.direction.y === 0) game.direction = {x: 0, y: -1}; 
                        break;
                    case 'ArrowDown': 
                        if (game.direction.y === 0) game.direction = {x: 0, y: 1}; 
                        break;
                    case 'ArrowLeft': 
                        if (game.direction.x === 0) game.direction = {x: -1, y: 0}; 
                        break;
                    case 'ArrowRight': 
                        if (game.direction.x === 0) game.direction = {x: 1, y: 0}; 
                        break;
                }
            });
            
            drawGame();
        }
        
        function gameOver() {
            game.running = false;
            const canvas = document.getElementById('gameCanvas');
            const ctx = canvas.getContext('2d');
            
            // æ¸¸æˆç»“æŸç”»é¢
            ctx.fillStyle = 'rgba(0, 0, 0, 0.7)';
            ctx.fillRect(0, 0, canvas.width, canvas.height);
            
            ctx.fillStyle = '#fff';
            ctx.font = 'bold 36px sans-serif';
            ctx.textAlign = 'center';
            ctx.fillText('æ¸¸æˆç»“æŸ', canvas.width/2, canvas.height/2 - 40);
            
            ctx.font = '24px sans-serif';
            ctx.fillText(`æœ€ç»ˆåˆ†æ•°: ${game.score}`, canvas.width/2, canvas.height/2 + 10);
            
            ctx.font = '18px sans-serif';
            ctx.fillText('ç‚¹å‡»"é‡æ–°å¼€å§‹"æŒ‰é’®é‡æ–°æ¸¸æˆ', canvas.width/2, canvas.height/2 + 50);
        }
        
        function updateScore() {
            document.getElementById('scoreDisplay').textContent = `åˆ†æ•°: ${game.score}`;
        }
        
        window.resetGame = () => {
            game = {
                snake: [{x: 10, y: 10}],
                food: {x: 15, y: 15},
                direction: {x: 1, y: 0},
                score: 0,
                running: true,
                paused: false
            };
            updateScore();
            initGame();
        };
        
        window.pauseGame = () => {
            if (game.running) {
                game.paused = !game.paused;
                if (!game.paused) {
                    initGame();
                }
            }
        };
        
        // åˆå§‹åŒ–
        window.addEventListener('load', () => {
            initGame();
        });
    </script>
</body>
<style>
    body {
        font-family: 'Microsoft YaHei', Arial, sans-serif;
        margin: 0;
        padding: 20px;
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        min-height: 100vh;
        width: 100%;
        box-sizing: border-box;
    }
    .container {
        max-width: 900px;
        width: 100%;
        margin: 0 auto;
        background: white;
        padding: 30px;
        border-radius: 15px;
        box-shadow: 0 25px 50px rgba(0, 0, 0, 0.15);
        text-align: center;
        box-sizing: border-box;
    }
    h1 {
        color: #2c3e50;
        margin-bottom: 20px;
    }
    p {
        color: #666;
        line-height: 1.6;
        margin-bottom: 20px;
    }
    .game-info {
        display: flex;
        justify-content: space-between;
        align-items: center;
        margin: 20px 0;
        padding: 15px;
        background: #f8f9fa;
        border-radius: 10px;
        flex-wrap: wrap;
        gap: 10px;
    }
    .score {
        font-size: 18px;
        font-weight: bold;
        color: #2c3e50;
    }
    .game-controls {
        display: flex;
        gap: 10px;
        flex-wrap: wrap;
    }
    canvas {
        border: 3px solid #ddd;
        border-radius: 10px;
        box-shadow: 0 15px 30px rgba(0, 0, 0, 0.2);
        margin: 20px 0;
        max-width: 100%;
        height: auto;
    }
    button {
        background: #00b894;
        color: white;
        border: none;
        padding: 12px 24px;
        border-radius: 8px;
        cursor: pointer;
        font-size: 16px;
        font-weight: bold;
        transition: all 0.3s ease;
        min-width: 100px;
    }
    button:hover {
        background: #00a085;
        transform: translateY(-2px);
    }
    button:disabled {
        background: #ddd;
        cursor: not-allowed;
        transform: none;
    }
    .instructions {
        background: #e8f4fd;
        padding: 20px;
        border-radius: 10px;
        margin: 20px 0;
        border-left: 5px solid #74b9ff;
    }
    .instructions h3 {
        color: #2d3436;
        margin-top: 0;
    }
    
    @media (max-width: 768px) {
        body {
            padding: 10px;
        }
        .container {
            padding: 20px;
        }
        .game-info {
            flex-direction: column;
            text-align: center;
        }
        .game-controls {
            justify-content: center;
        }
    }
</style>
</html> 